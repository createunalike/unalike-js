/*!
* unalike-js v0.13.4
* (c) 2020 Unalike <hello@unalike.net> (https://www.unalike.net/)
* Released under the MIT License.
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.unalike=e()}(this,function(){"use strict";function t(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}function e(e){return function(){var r=this,n=arguments;return new Promise(function(o,i){var s=e.apply(r,n);function a(e){t(s,o,i,a,u,"next",e)}function u(e){t(s,o,i,a,u,"throw",e)}a(void 0)})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function c(t,e,r){return(c=u()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&a(o,r.prototype),o}).apply(null,arguments)}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return c(t,arguments,s(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)})(t)}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){var e=u();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b="0.13.4",v="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function k(t,e){return t(e={exports:{}},e.exports),e.exports}k(function(t){var e=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function u(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),s=new L(n||[]);return i._invoke=function(t,e,r){var n=l;return function(o,i){if(n===f)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw i;return B()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=S(s,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var u=c(t,e,r);if("normal"===u.type){if(n=r.done?h:p,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(t,r,s),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",p="suspendedYield",f="executing",h="completed",d={};function y(){}function m(){}function b(){}var v={};v[i]=function(){return this};var g=Object.getPrototypeOf,k=g&&g(g(C([])));k&&k!==r&&n.call(k,i)&&(v=k);var w=b.prototype=y.prototype=Object.create(v);function T(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){var e;this._invoke=function(r,o){function i(){return new Promise(function(e,i){!function e(r,o,i,s){var a=c(t[r],t,o);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,i,s)},function(t){e("throw",t,i,s)}):Promise.resolve(l).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,s)})}s(a.arg)}(r,o,e,i)})}return e=e?e.then(i,i):i()}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return s.next=s}}return{next:B}}function B(){return{value:e,done:!0}}return m.prototype=w.constructor=b,b.constructor=m,b[a]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},T(_.prototype),_.prototype[s]=function(){return this},t.AsyncIterator=_,t.async=function(e,r,n,o){var i=new _(u(e,r,n,o));return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},T(w),w[a]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return a.type="throw",a.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});const w=Symbol("buffer"),T=Symbol("type");class _{constructor(){this[T]="";const t=arguments[0],e=arguments[1],r=[];if(t){const e=t,n=Number(e.length);for(let t=0;t<n;t++){const n=e[t];let o;o=n instanceof Buffer?n:ArrayBuffer.isView(n)?Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?Buffer.from(n):n instanceof _?n[w]:Buffer.from("string"==typeof n?n:String(n)),r.push(o)}}this[w]=Buffer.concat(r);let n=e&&void 0!==e.type&&String(e.type).toLowerCase();n&&!/[^\u0020-\u007E]/.test(n)&&(this[T]=n)}get size(){return this[w].length}get type(){return this[T]}slice(){const t=this.size,e=arguments[0],r=arguments[1];let n,o;n=void 0===e?0:e<0?Math.max(t+e,0):Math.min(e,t),o=void 0===r?t:r<0?Math.max(t+r,0):Math.min(r,t);const i=Math.max(o-n,0),s=this[w].slice(n,n+i),a=new _([],{type:arguments[2]});return a[w]=s,a}}function S(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(_.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(_.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S.prototype.name="FetchError";const O=require("stream");const j=require("stream").PassThrough;let L;try{L=require("encoding").convert}catch(t){}const C=Symbol("Body internals");function B(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.size;let o=void 0===n?0:n;var i=r.timeout;let s=void 0===i?0:i;null==t?t=null:"string"==typeof t||A(t)||t instanceof _||Buffer.isBuffer(t)||"[object ArrayBuffer]"===Object.prototype.toString.call(t)||t instanceof O||(t=String(t)),this[C]={body:t,disturbed:!1,error:null},this.size=o,this.timeout=s,t instanceof O&&t.on("error",function(t){e[C].error=new S(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)})}function I(){var t=this;if(this[C].disturbed)return B.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[C].disturbed=!0,this[C].error)return B.Promise.reject(this[C].error);if(null===this.body)return B.Promise.resolve(Buffer.alloc(0));if("string"==typeof this.body)return B.Promise.resolve(Buffer.from(this.body));if(this.body instanceof _)return B.Promise.resolve(this.body[w]);if(Buffer.isBuffer(this.body))return B.Promise.resolve(this.body);if("[object ArrayBuffer]"===Object.prototype.toString.call(this.body))return B.Promise.resolve(Buffer.from(this.body));if(!(this.body instanceof O))return B.Promise.resolve(Buffer.alloc(0));let e=[],r=0,n=!1;return new B.Promise(function(o,i){let s;t.timeout&&(s=setTimeout(function(){n=!0,i(new S(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),t.body.on("error",function(e){i(new S(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e))}),t.body.on("data",function(o){if(!n&&null!==o){if(t.size&&r+o.length>t.size)return n=!0,void i(new S(`content size at ${t.url} over limit: ${t.size}`,"max-size"));r+=o.length,e.push(o)}}),t.body.on("end",function(){if(!n){clearTimeout(s);try{o(Buffer.concat(e))}catch(e){i(new S(`Could not create Buffer from response body for ${t.url}: ${e.message}`,"system",e))}}})})}function A(t){return"object"==typeof t&&"function"==typeof t.append&&"function"==typeof t.delete&&"function"==typeof t.get&&"function"==typeof t.getAll&&"function"==typeof t.has&&"function"==typeof t.set&&("URLSearchParams"===t.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(t)||"function"==typeof t.sort)}function x(t){let e,r,n=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof O&&"function"!=typeof n.getBoundary&&(e=new j,r=new j,n.pipe(e),n.pipe(r),t[C].body=e,n=r),n}function E(t){const e=t.body;return null===e?0:"string"==typeof e?Buffer.byteLength(e):A(e)?Buffer.byteLength(String(e)):e instanceof _?e.size:Buffer.isBuffer(e)?e.length:"[object ArrayBuffer]"===Object.prototype.toString.call(e)?e.byteLength:e&&"function"==typeof e.getLengthSync&&(e._lengthRetrievers&&0==e._lengthRetrievers.length||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}B.prototype={get body(){return this[C].body},get bodyUsed(){return this[C].disturbed},arrayBuffer(){return I.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return I.call(this).then(function(e){return Object.assign(new _([],{type:t.toLowerCase()}),{[w]:e})})},json(){var t=this;return I.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(e){return B.Promise.reject(new S(`invalid json response body at ${t.url} reason: ${e.message}`,"invalid-json"))}})},text(){return I.call(this).then(function(t){return t.toString()})},buffer(){return I.call(this)},textConverted(){var t=this;return I.call(this).then(function(e){return function(t,e){if("function"!=typeof L)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=e.get("content-type");let n,o,i="utf-8";r&&(n=/charset=([^;]*)/i.exec(r));o=t.slice(0,1024).toString(),!n&&o&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(o));!n&&o&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o))&&(n=/charset=(.*)/i.exec(n.pop()));!n&&o&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o));n&&("gb2312"!==(i=n.pop())&&"gbk"!==i||(i="gb18030"));return L(t,"UTF-8",i).toString()}(e,t.headers)})}},Object.defineProperties(B.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),B.mixIn=function(t){for(const e of Object.getOwnPropertyNames(B.prototype))if(!(e in t)){const r=Object.getOwnPropertyDescriptor(B.prototype,e);Object.defineProperty(t,e,r)}},B.Promise=global.Promise;const P=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,z=/[^\t\x20-\x7e\x80-\xff]/;function D(t){if(t=`${t}`,P.test(t))throw new TypeError(`${t} is not a legal HTTP header name`)}function R(t){if(t=`${t}`,z.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function $(t,e){e=e.toLowerCase();for(const r in t)if(r.toLowerCase()===e)return r}const G=Symbol("map");class H{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[G]=Object.create(null),t instanceof H){const e=t.raw(),r=Object.keys(e);for(const t of r)for(const r of e[t])this.append(t,r)}else if(null==t);else{if("object"!=typeof t)throw new TypeError("Provided initializer must be an object");{const e=t[Symbol.iterator];if(null!=e){if("function"!=typeof e)throw new TypeError("Header pairs must be iterable");const r=[];for(const e of t){if("object"!=typeof e||"function"!=typeof e[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(e))}for(const t of r){if(2!==t.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(t[0],t[1])}}else for(const e of Object.keys(t)){const r=t[e];this.append(e,r)}}}}get(t){D(t=`${t}`);const e=$(this[G],t);return void 0===e?null:this[G][e].join(", ")}forEach(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=q(this),n=0;for(;n<r.length;){var o=r[n];const i=o[0],s=o[1];t.call(e,s,i,this),r=q(this),n++}}set(t,e){e=`${e}`,D(t=`${t}`),R(e);const r=$(this[G],t);this[G][void 0!==r?r:t]=[e]}append(t,e){e=`${e}`,D(t=`${t}`),R(e);const r=$(this[G],t);void 0!==r?this[G][r].push(e):this[G][t]=[e]}has(t){return D(t=`${t}`),void 0!==$(this[G],t)}delete(t){D(t=`${t}`);const e=$(this[G],t);void 0!==e&&delete this[G][e]}raw(){return this[G]}keys(){return N(this,"key")}values(){return N(this,"value")}[Symbol.iterator](){return N(this,"key+value")}}function q(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(t[G]).sort().map("key"===e?function(t){return t.toLowerCase()}:"value"===e?function(e){return t[G][e].join(", ")}:function(e){return[e.toLowerCase(),t[G][e].join(", ")]})}H.prototype.entries=H.prototype[Symbol.iterator],Object.defineProperty(H.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(H.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const U=Symbol("internal");function N(t,e){const r=Object.create(V);return r[U]={target:t,kind:e,index:0},r}const V=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==V)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[U];const e=t.target,r=t.kind,n=t.index,o=q(e,r);return n>=o.length?{value:void 0,done:!0}:(this[U].index=n+1,{value:o[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function M(t){const e=Object.assign({__proto__:null},t[G]),r=$(t[G],"Host");return void 0!==r&&(e[r]=e[r][0]),e}Object.defineProperty(V,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const F=require("http").STATUS_CODES,W=Symbol("Response internals");class Q{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};B.call(this,t,e);const r=e.status||200;this[W]={url:e.url,status:r,statusText:e.statusText||F[r],headers:new H(e.headers)}}get url(){return this[W].url}get status(){return this[W].status}get ok(){return this[W].status>=200&&this[W].status<300}get statusText(){return this[W].statusText}get headers(){return this[W].headers}clone(){return new Q(x(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}}B.mixIn(Q.prototype),Object.defineProperties(Q.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(Q.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var J=require("url");const Z=J.format,Y=J.parse,K=Symbol("Request internals");function X(t){return"object"==typeof t&&"object"==typeof t[K]}class tt{constructor(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(t)?e=Y(t.url):(e=t&&t.href?Y(t.href):Y(`${t}`),t={});let n=r.method||t.method||"GET";if(n=n.toUpperCase(),(null!=r.body||X(t)&&null!==t.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let o=null!=r.body?r.body:X(t)&&null!==t.body?x(t):null;B.call(this,o,{timeout:r.timeout||t.timeout||0,size:r.size||t.size||0});const i=new H(r.headers||t.headers||{});if(null!=r.body){const t=function(t){const e=t.body;return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":A(e)?"application/x-www-form-urlencoded;charset=UTF-8":e instanceof _?e.type||null:Buffer.isBuffer(e)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:null}(this);null===t||i.has("Content-Type")||i.append("Content-Type",t)}this[K]={method:n,redirect:r.redirect||t.redirect||"follow",headers:i,parsedURL:e},this.follow=void 0!==r.follow?r.follow:void 0!==t.follow?t.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===t.compress||t.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent}get method(){return this[K].method}get url(){return Z(this[K].parsedURL)}get headers(){return this[K].headers}get redirect(){return this[K].redirect}clone(){return new tt(this)}}B.mixIn(tt.prototype),Object.defineProperty(tt.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(tt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0}});const et=require("http"),rt=require("https");const nt=require("stream").PassThrough;const ot=require("url").resolve,it=require("zlib");function st(t,e){if(!st.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return B.Promise=st.Promise,new st.Promise(function(r,n){const o=new tt(t,e),i=function(t){const e=t[K].parsedURL,r=new H(t[K].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");let n=null;if(null==t.body&&/^(POST|PUT)$/i.test(t.method)&&(n="0"),null!=t.body){const e=E(t);"number"==typeof e&&(n=String(e))}return n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&r.set("Accept-Encoding","gzip,deflate"),r.has("Connection")||t.agent||r.set("Connection","close"),Object.assign({},e,{method:t.method,headers:M(r),agent:t.agent})}(o),s=(0,("https:"===i.protocol?rt:et).request)(i);let a;function u(){s.abort(),clearTimeout(a)}o.timeout&&s.once("socket",function(t){a=setTimeout(function(){n(new S(`network timeout at: ${o.url}`,"request-timeout")),u()},o.timeout)}),s.on("error",function(t){n(new S(`request to ${o.url} failed, reason: ${t.message}`,"system",t)),u()}),s.on("response",function(t){clearTimeout(a);const e=function(t){const e=new H;for(const r of Object.keys(t))if(!P.test(r))if(Array.isArray(t[r]))for(const n of t[r])z.test(n)||(void 0===e[G][r]?e[G][r]=[n]:e[G][r].push(n));else z.test(t[r])||(e[G][r]=[t[r]]);return e}(t.headers);if(st.isRedirect(t.statusCode)){const i=e.get("Location"),s=null===i?null:ot(o.url,i);switch(o.redirect){case"error":return n(new S(`redirect mode is set to error: ${o.url}`,"no-redirect")),void u();case"manual":null!==s&&e.set("Location",s);break;case"follow":if(null===s)break;if(o.counter>=o.follow)return n(new S(`maximum redirect reached at: ${o.url}`,"max-redirect")),void u();const i={headers:new H(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:o.body};return 303!==t.statusCode&&o.body&&null===E(o)?(n(new S("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void u()):(303!==t.statusCode&&(301!==t.statusCode&&302!==t.statusCode||"POST"!==o.method)||(i.method="GET",i.body=void 0,i.headers.delete("content-length")),r(st(new tt(s,i))),void u())}}let i=t.pipe(new nt);const s={url:o.url,status:t.statusCode,statusText:t.statusMessage,headers:e,size:o.size,timeout:o.timeout},c=e.get("Content-Encoding");if(!o.compress||"HEAD"===o.method||null===c||204===t.statusCode||304===t.statusCode)return void r(new Q(i,s));const l={flush:it.Z_SYNC_FLUSH,finishFlush:it.Z_SYNC_FLUSH};if("gzip"==c||"x-gzip"==c)return i=i.pipe(it.createGunzip(l)),void r(new Q(i,s));if("deflate"!=c&&"x-deflate"!=c)r(new Q(i,s));else{t.pipe(new nt).once("data",function(t){i=8==(15&t[0])?i.pipe(it.createInflate()):i.pipe(it.createInflateRaw()),r(new Q(i,s))})}}),function(t,e){const r=e.body;null===r?t.end():"string"==typeof r?(t.write(r),t.end()):A(r)?(t.write(Buffer.from(String(r))),t.end()):r instanceof _?(t.write(r[w]),t.end()):Buffer.isBuffer(r)?(t.write(r),t.end()):"[object ArrayBuffer]"===Object.prototype.toString.call(r)?(t.write(Buffer.from(r)),t.end()):r.pipe(t)}(s,o)})}st.isRedirect=function(t){return 301===t||302===t||303===t||307===t||308===t},st.default=st,st.Promise=global.Promise;var at=k(function(t,e){var r=st.default||st,n=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),r.call(this,t,e)};n.polyfill=!1,t.exports=e=n,e.fetch=n,e.Headers=st.Headers,e.Request=st.Request,e.Response=st.Response,e.default=n}),ut=(at.fetch,at.Headers,at.Request,at.Response,function(){function t(e){r(this,t),this.client=e,this.variables={}}return o(t,[{key:"id",value:function(t){return this.variables.id=t,this}}]),t}()),ct=function(t){i(s,ut);var n=f(s);function s(t){return r(this,s),n.call(this,t)}return o(s,[{key:"repository",value:function(t){return this.variables.repository=t,this}},{key:"sortBy",value:function(t){return this.variables.sortBy=t,this}},{key:"sortUp",value:function(){return this.variables.sortDirection="ASC",this}},{key:"sortDown",value:function(){return this.variables.sortDirection="DESC",this}},{key:"pageSize",value:function(t){return this.variables.pageSize=t,this}},{key:"page",value:function(t){return this.variables.page=t,this}},{key:"type",value:function(t){return this.variables.type=t,this}},{key:"status",value:function(t){return this.variables.status=t,this}},{key:"published",value:function(){return this.variables.published=!0,this}},{key:"fetch",value:function(){var t=e(regeneratorRuntime.mark(function t(e){var r,n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.variables.id){t.next=6;break}return r={id:this.variables.id},t.next=4,this.client.query("query content($id: ID!) {\n                content(id: $id) {\n                    ".concat(e,"\n                }\n            }"),r);case 4:return n=t.sent,t.abrupt("return",{data:n.data.content});case 6:return o={repositoryId:this.variables.repository,sortBy:this.variables.sortBy,sortDirection:this.variables.sortDirection,pageSize:this.variables.pageSize,page:this.variables.page,type:this.variables.type,status:this.variables.status,published:this.variables.published},t.next=9,this.client.query("query contents($repositoryId: ID, $sortBy: String, $sortDirection: SortDirection, $pageSize: Int, $page: Int, $type: [String], $status: [String], $published: Boolean) {\n            contents(repositoryId: $repositoryId, sortBy: $sortBy, sortDirection: $sortDirection, pageSize: $pageSize, page: $page, type: $type, status: $status, published: $published) {\n                ".concat(e,"\n            }\n        }"),o);case 9:return i=t.sent,t.abrupt("return",{data:i.data.contents});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=e(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.variables.id){t.next=2;break}throw new Error("Content ID needs to be supplied before you can delete.");case 2:return e={contentId:this.variables.id},t.next=5,this.client.query("mutation deleteContent($contentId: ID!) {\n            deleteContent(contentId: $contentId) {\n                id\n                name\n            }\n        }",e);case 5:return r=t.sent,t.abrupt("return",{data:r.data.deleteContent});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),s}(),lt=function(t){i(s,ut);var n=f(s);function s(t){return r(this,s),n.call(this,t)}return o(s,[{key:"repository",value:function(t){return this.variables.repository=t,this}},{key:"sortBy",value:function(t){return this.variables.sortBy=t,this}},{key:"sortUp",value:function(){return this.variables.sortDirection="ASC",this}},{key:"sortDown",value:function(){return this.variables.sortDirection="DESC",this}},{key:"fetch",value:function(){var t=e(regeneratorRuntime.mark(function t(e){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.variables.id){t.next=5;break}return t.next=3,this.client.query("query repository($slug: String) {\n                repository(slug: $slug) {\n                    ".concat(e,"\n                }\n            }"),{slug:this.variables.id});case 3:return r=t.sent,t.abrupt("return",{data:r.data.repository});case 5:return n={sortBy:this.variables.sortBy,sortDirection:this.variables.sortDirection},t.next=8,this.client.query("query repositories($sortBy: String, $sortDirection: SortDirection) { \n            repositories(sortBy: $sortBy, sortDirection: $sortDirection) { \n                ".concat(e,"\n            }\n        }"),n);case 8:return o=t.sent,t.abrupt("return",{data:o.data.repositories});case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),s}(),pt=function(t){i(s,ut);var n=f(s);function s(t){return r(this,s),n.call(this,t)}return o(s,[{key:"repository",value:function(t){return this.variables.repository=t,this}},{key:"sortBy",value:function(t){return this.variables.sortBy=t,this}},{key:"sortUp",value:function(){return this.variables.sortDirection="ASC",this}},{key:"sortDown",value:function(){return this.variables.sortDirection="DESC",this}},{key:"pageSize",value:function(t){return this.variables.pageSize=t,this}},{key:"page",value:function(t){return this.variables.page=t,this}},{key:"status",value:function(t){return this.variables.status=t,this}},{key:"fetch",value:function(){var t=e(regeneratorRuntime.mark(function t(e){var r,n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.variables.id){t.next=6;break}return r={id:this.variables.id},t.next=4,this.client.query("query model($id: ID!) {\n                model(id: $id) {\n                    ".concat(e,"\n                }\n            }"),r);case 4:return n=t.sent,t.abrupt("return",{data:n.data.model});case 6:return o={repositoryId:this.variables.repository,sortBy:this.variables.sortBy,sortDirection:this.variables.sortDirection,pageSize:this.variables.pageSize,page:this.variables.page,status:this.variables.status},t.next=9,this.client.query("query models($repositoryId: ID!, $sortBy: String, $sortDirection: SortDirection, $pageSize: Int, $page: Int, $type: [String], $status: [String]) {\n            models(repositoryId: $repositoryId, sortBy: $sortBy, sortDirection: $sortDirection, pageSize: $pageSize, page: $page, type: $type, status: $status) {\n                ".concat(e,"\n            }\n        }"),o);case 9:return i=t.sent,t.abrupt("return",{data:i.data.models});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=e(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.variables.id){t.next=2;break}throw new Error("Model ID needs to be supplied before you can delete.");case 2:return e={modelId:this.variables.id},t.next=5,this.client.query("mutation deleteModel($modelId: ID!) {\n            deleteModel(modelId: $modelId) {\n                id\n                name\n            }\n        }",e);case 5:return r=t.sent,t.abrupt("return",{data:r.data.deleteModel});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),s}(),ft=function(t){i(n,l(Error));var e=f(n);function n(t){var o;r(this,n);var i="Unknown error";return t.body&&t.body.message?i=t.body.message:t.data&&t.data.message?i=t.data.message:t.data.errors&&t.data.errors.length>0&&t.data.errors[0].message&&(i=t.data.errors[0].message),(o=e.call(this,i)).status=t.status,o}return n}(),ht=function(t){i(n,l(Error));var e=f(n);function n(t){var o;return r(this,n),(o=e.call(this,"Query error")).errors=t.data.errors,o.status=t.status,o}return n}(),dt=function(){function t(){r(this,t),this.handlers=[]}return o(t,[{key:"use",value:function(t){return this.handlers.push(t),this.handlers.length-1}},{key:"forEach",value:function(t){var e,r=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=y(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}(this.handlers);try{for(r.s();!(e=r.n()).done;){(0,e.value)(t)}}catch(t){r.e(t)}finally{r.f()}}}]),t}(),yt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r,n,o,i,s,a;e.NewLine="\n",function(t){t.Ordered="ordered",t.Bullet="bullet",t.Checked="checked",t.Unchecked="unchecked"}(r||(r={})),e.ListType=r,function(t){t.Sub="sub",t.Super="super"}(n||(n={})),e.ScriptType=n,function(t){t.Rtl="rtl"}(o||(o={})),e.DirectionType=o,function(t){t.Left="left",t.Center="center",t.Right="right",t.Justify="justify"}(i||(i={})),e.AlignType=i,function(t){t.Image="image",t.Video="video",t.Formula="formula",t.Text="text"}(s||(s={})),e.DataType=s,function(t){t.Block="block",t.InlineGroup="inline-group",t.List="list",t.Video="video",t.Table="table"}(a||(a={})),e.GroupType=a});g(yt);yt.NewLine,yt.ListType,yt.ScriptType,yt.DirectionType,yt.AlignType,yt.DataType,yt.GroupType;var mt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){this.type=t,this.value=e}}();e.InsertDataQuill=r;var n=function(){return function(t,e){this.type=t,this.value=e}}();e.InsertDataCustom=n});g(mt);mt.InsertDataQuill,mt.InsertDataCustom;var bt=k(function(t,e){var r=200,n="__lodash_hash_undefined__",o=1,i=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",l="[object Boolean]",p="[object Date]",f="[object Error]",h="[object Function]",d="[object GeneratorFunction]",y="[object Map]",m="[object Number]",b="[object Null]",g="[object Object]",k="[object Proxy]",w="[object RegExp]",T="[object Set]",_="[object String]",S="[object Symbol]",O="[object Undefined]",j="[object ArrayBuffer]",L="[object DataView]",C=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[a]=I[u]=I[j]=I[l]=I[L]=I[p]=I[f]=I[h]=I[y]=I[m]=I[g]=I[w]=I[T]=I[_]=I["[object WeakMap]"]=!1;var A="object"==typeof v&&v&&v.Object===Object&&v,x="object"==typeof self&&self&&self.Object===Object&&self,E=A||x||Function("return this")(),P=e&&!e.nodeType&&e,z=P&&t&&!t.nodeType&&t,D=z&&z.exports===P,R=D&&A.process,$=function(){try{return R&&R.binding&&R.binding("util")}catch(t){}}(),G=$&&$.isTypedArray;function H(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function q(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function U(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var N,V,M,F=Array.prototype,W=Function.prototype,Q=Object.prototype,J=E["__core-js_shared__"],Z=W.toString,Y=Q.hasOwnProperty,K=(N=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",X=Q.toString,tt=RegExp("^"+Z.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=D?E.Buffer:void 0,rt=E.Symbol,nt=E.Uint8Array,ot=Q.propertyIsEnumerable,it=F.splice,st=rt?rt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ut=et?et.isBuffer:void 0,ct=(V=Object.keys,M=Object,function(t){return V(M(t))}),lt=$t(E,"DataView"),pt=$t(E,"Map"),ft=$t(E,"Promise"),ht=$t(E,"Set"),dt=$t(E,"WeakMap"),yt=$t(Object,"create"),mt=Ut(lt),bt=Ut(pt),vt=Ut(ft),gt=Ut(ht),kt=Ut(dt),wt=rt?rt.prototype:void 0,Tt=wt?wt.valueOf:void 0;function _t(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function jt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Ot;++e<r;)this.add(t[e])}function Lt(t){var e=this.__data__=new St(t);this.size=e.size}function Ct(t,e){var r=Mt(t),n=!r&&Vt(t),o=!r&&!n&&Ft(t),i=!r&&!n&&!o&&Yt(t),s=r||n||o||i,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!Y.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qt(c,u))||a.push(c);return a}function Bt(t,e){for(var r=t.length;r--;)if(Nt(t[r][0],e))return r;return-1}function It(t){return null==t?void 0===t?O:b:st&&st in Object(t)?function(t){var e=Y.call(t,st),r=t[st];try{t[st]=void 0}catch(t){}var n=X.call(t);e?t[st]=r:delete t[st];return n}(t):function(t){return X.call(t)}(t)}function At(t){return Zt(t)&&It(t)==a}function xt(t,e,r,n,s){return t===e||(null==t||null==e||!Zt(t)&&!Zt(e)?t!=t&&e!=e:function(t,e,r,n,s,c){var h=Mt(t),d=Mt(e),b=h?u:Ht(t),v=d?u:Ht(e),k=(b=b==a?g:b)==g,O=(v=v==a?g:v)==g,C=b==v;if(C&&Ft(t)){if(!Ft(e))return!1;h=!0,k=!1}if(C&&!k)return c||(c=new Lt),h||Yt(t)?zt(t,e,r,n,s,c):function(t,e,r,n,s,a,u){switch(r){case L:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case j:return!(t.byteLength!=e.byteLength||!a(new nt(t),new nt(e)));case l:case p:case m:return Nt(+t,+e);case f:return t.name==e.name&&t.message==e.message;case w:case _:return t==e+"";case y:var c=q;case T:var h=n&o;if(c||(c=U),t.size!=e.size&&!h)return!1;var d=u.get(t);if(d)return d==e;n|=i,u.set(t,e);var b=zt(c(t),c(e),n,s,a,u);return u.delete(t),b;case S:if(Tt)return Tt.call(t)==Tt.call(e)}return!1}(t,e,b,r,n,s,c);if(!(r&o)){var B=k&&Y.call(t,"__wrapped__"),I=O&&Y.call(e,"__wrapped__");if(B||I){var A=B?t.value():t,x=I?e.value():e;return c||(c=new Lt),s(A,x,r,n,c)}}if(!C)return!1;return c||(c=new Lt),function(t,e,r,n,i,s){var a=r&o,u=Dt(t),c=u.length,l=Dt(e).length;if(c!=l&&!a)return!1;for(var p=c;p--;){var f=u[p];if(!(a?f in e:Y.call(e,f)))return!1}var h=s.get(t);if(h&&s.get(e))return h==e;var d=!0;s.set(t,e),s.set(e,t);for(var y=a;++p<c;){f=u[p];var m=t[f],b=e[f];if(n)var v=a?n(b,m,f,e,t,s):n(m,b,f,t,e,s);if(!(void 0===v?m===b||i(m,b,r,n,s):v)){d=!1;break}y||(y="constructor"==f)}if(d&&!y){var g=t.constructor,k=e.constructor;g!=k&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof k&&k instanceof k)&&(d=!1)}return s.delete(t),s.delete(e),d}(t,e,r,n,s,c)}(t,e,r,n,xt,s))}function Et(t){return!(!Jt(t)||(e=t,K&&K in e))&&(Wt(t)?tt:C).test(Ut(t));var e}function Pt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||Q,e!==n)return ct(t);var e,r,n,o=[];for(var i in Object(t))Y.call(t,i)&&"constructor"!=i&&o.push(i);return o}function zt(t,e,r,n,s,a){var u=r&o,c=t.length,l=e.length;if(c!=l&&!(u&&l>c))return!1;var p=a.get(t);if(p&&a.get(e))return p==e;var f=-1,h=!0,d=r&i?new jt:void 0;for(a.set(t,e),a.set(e,t);++f<c;){var y=t[f],m=e[f];if(n)var b=u?n(m,y,f,e,t,a):n(y,m,f,t,e,a);if(void 0!==b){if(b)continue;h=!1;break}if(d){if(!H(e,function(t,e){if(o=e,!d.has(o)&&(y===t||s(y,t,r,n,a)))return d.push(e);var o})){h=!1;break}}else if(y!==m&&!s(y,m,r,n,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function Dt(t){return function(t,e,r){var n=e(t);return Mt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Kt,Gt)}function Rt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function $t(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Et(r)?r:void 0}_t.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},_t.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_t.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return r===n?void 0:r}return Y.call(e,t)?e[t]:void 0},_t.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:Y.call(e,t)},_t.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yt&&void 0===e?n:e,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(t){var e=this.__data__,r=Bt(e,t);return!(r<0||(r==e.length-1?e.pop():it.call(e,r,1),--this.size,0))},St.prototype.get=function(t){var e=this.__data__,r=Bt(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Bt(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Bt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Ot.prototype.clear=function(){this.size=0,this.__data__={hash:new _t,map:new(pt||St),string:new _t}},Ot.prototype.delete=function(t){var e=Rt(this,t).delete(t);return this.size-=e?1:0,e},Ot.prototype.get=function(t){return Rt(this,t).get(t)},Ot.prototype.has=function(t){return Rt(this,t).has(t)},Ot.prototype.set=function(t,e){var r=Rt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},jt.prototype.add=jt.prototype.push=function(t){return this.__data__.set(t,n),this},jt.prototype.has=function(t){return this.__data__.has(t)},Lt.prototype.clear=function(){this.__data__=new St,this.size=0},Lt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Lt.prototype.get=function(t){return this.__data__.get(t)},Lt.prototype.has=function(t){return this.__data__.has(t)},Lt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof St){var o=n.__data__;if(!pt||o.length<r-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ot(o)}return n.set(t,e),this.size=n.size,this};var Gt=at?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[o++]=s)}return i}(at(t),function(e){return ot.call(t,e)}))}:function(){return[]},Ht=It;function qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||B.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Nt(t,e){return t===e||t!=t&&e!=e}(lt&&Ht(new lt(new ArrayBuffer(1)))!=L||pt&&Ht(new pt)!=y||ft&&"[object Promise]"!=Ht(ft.resolve())||ht&&Ht(new ht)!=T||dt&&"[object WeakMap]"!=Ht(new dt))&&(Ht=function(t){var e=It(t),r=e==g?t.constructor:void 0,n=r?Ut(r):"";if(n)switch(n){case mt:return L;case bt:return y;case vt:return"[object Promise]";case gt:return T;case kt:return"[object WeakMap]"}return e});var Vt=At(function(){return arguments}())?At:function(t){return Zt(t)&&Y.call(t,"callee")&&!ot.call(t,"callee")},Mt=Array.isArray;var Ft=ut||function(){return!1};function Wt(t){if(!Jt(t))return!1;var e=It(t);return e==h||e==d||e==c||e==k}function Qt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function Jt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zt(t){return null!=t&&"object"==typeof t}var Yt=G?function(t){return function(e){return t(e)}}(G):function(t){return Zt(t)&&Qt(t.length)&&!!I[It(t)]};function Kt(t){return null!=(e=t)&&Qt(e.length)&&!Wt(e)?Ct(t):Pt(t);var e}t.exports=function(t,e){return xt(t,e)}}),vt=k(function(t,e){var r=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=r(bt),o=function(){function t(t,e){"string"==typeof t&&(t=new mt.InsertDataQuill(yt.DataType.Text,t+"")),this.insert=t,this.attributes=e||{}}return t.createNewLineOp=function(){return new t(yt.NewLine)},t.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},t.prototype.isBlockAttribute=function(){var t=this.attributes;return!!(t.align||t.direction||t.indent)},t.prototype.isBlockquote=function(){return!!this.attributes.blockquote},t.prototype.isHeader=function(){return!!this.attributes.header},t.prototype.isTable=function(){return!!this.attributes.table},t.prototype.isSameHeaderAs=function(t){return t.attributes.header===this.attributes.header&&this.isHeader()},t.prototype.hasSameAdiAs=function(t){return this.attributes.align===t.attributes.align&&this.attributes.direction===t.attributes.direction&&this.attributes.indent===t.attributes.indent},t.prototype.hasSameIndentationAs=function(t){return this.attributes.indent===t.attributes.indent},t.prototype.hasSameAttr=function(t){return n.default(this.attributes,t.attributes)},t.prototype.hasHigherIndentThan=function(t){return(Number(this.attributes.indent)||0)>(Number(t.attributes.indent)||0)},t.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},t.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},t.prototype.hasSameLangAs=function(t){return this.attributes["code-block"]===t.attributes["code-block"]},t.prototype.isJustNewline=function(){return this.insert.value===yt.NewLine},t.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},t.prototype.isOrderedList=function(){return this.attributes.list===yt.ListType.Ordered},t.prototype.isBulletList=function(){return this.attributes.list===yt.ListType.Bullet},t.prototype.isCheckedList=function(){return this.attributes.list===yt.ListType.Checked},t.prototype.isUncheckedList=function(){return this.attributes.list===yt.ListType.Unchecked},t.prototype.isACheckList=function(){return this.attributes.list==yt.ListType.Unchecked||this.attributes.list===yt.ListType.Checked},t.prototype.isSameListAs=function(t){return!!t.attributes.list&&(this.attributes.list===t.attributes.list||t.isACheckList()&&this.isACheckList())},t.prototype.isSameTableRowAs=function(t){return!!t.isTable()&&this.isTable()&&this.attributes.table===t.attributes.table},t.prototype.isText=function(){return this.insert.type===yt.DataType.Text},t.prototype.isImage=function(){return this.insert.type===yt.DataType.Image},t.prototype.isFormula=function(){return this.insert.type===yt.DataType.Formula},t.prototype.isVideo=function(){return this.insert.type===yt.DataType.Video},t.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},t.prototype.isCustomEmbed=function(){return this.insert instanceof mt.InsertDataCustom},t.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},t.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},t.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},t}();e.DeltaInsertOp=o});g(vt);vt.DeltaInsertOp;var gt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.sanitize=function(e,r){var n={};return e&&"object"==typeof e?(e.class&&t.IsValidClass(e.class)&&(n.class=e.class),e.id&&t.IsValidId(e.id)&&(n.id=e.id),t.IsValidTarget(e.target+"")&&(n.target=e.target),e.avatar&&(n.avatar=_t.OpAttributeSanitizer.sanitizeLinkUsingOptions(e.avatar+"",r)),e["end-point"]&&(n["end-point"]=_t.OpAttributeSanitizer.sanitizeLinkUsingOptions(e["end-point"]+"",r)),e.slug&&(n.slug=e.slug+""),n):n},t.IsValidClass=function(t){return!!t.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},t.IsValidId=function(t){return!!t.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},t.IsValidTarget=function(t){return["_self","_blank","_parent","_top"].indexOf(t)>-1},t}();e.MentionSanitizer=r});g(gt);gt.MentionSanitizer;var kt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=function(t){var e=t;return e=e.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(e)?e:"unsafe:"+e}});g(kt);kt.sanitize;var wt=k(function(t,e){var r;function n(t){return o(r.Html).reduce(s,t)}function o(t){var e=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return t===r.Html?e.filter(function(t){var e=t[0];t[1];return-1===e.indexOf("(")&&-1===e.indexOf(")")}):e.filter(function(t){var e=t[0];t[1];return-1===e.indexOf("/")})}function i(t,e){return t.replace(new RegExp(e[0],"g"),e[1])}function s(t,e){return t.replace(new RegExp(e[1],"g"),e[0].replace("\\",""))}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Html=0]="Html",t[t.Url=1]="Url"}(r||(r={})),e.makeStartTag=function(t,e){if(void 0===e&&(e=void 0),!t)return"";var r="";e&&(r=[].concat(e).map(function(t){return t.key+(t.value?'="'+t.value+'"':"")}).join(" "));var n=">";return"img"!==t&&"br"!==t||(n="/>"),r?"<"+t+" "+r+n:"<"+t+n},e.makeEndTag=function(t){return void 0===t&&(t=""),t&&"</"+t+">"||""},e.decodeHtml=n,e.encodeHtml=function(t,e){return void 0===e&&(e=!0),e&&(t=n(t)),o(r.Html).reduce(i,t)},e.encodeLink=function(t){var e=o(r.Url),n=e.reduce(s,t);return e.reduce(i,n)}});g(wt);wt.makeStartTag,wt.makeEndTag,wt.decodeHtml,wt.encodeHtml,wt.encodeLink;var Tt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.preferSecond=function(t){return 0===t.length?null:t.length>=2?t[1]:t[0]},e.flatten=function t(e){return e.reduce(function(e,r){return e.concat(Array.isArray(r)?t(r):r)},[])},e.find=function(t,e){if(Array.prototype.find)return Array.prototype.find.call(t,e);for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]},e.groupConsecutiveElementsWhile=function(t,e){for(var r,n=[],o=0;o<t.length;o++)r=t[o],o>0&&e(r,t[o-1])?n[n.length-1].push(r):n.push([r]);return n.map(function(t){return 1===t.length?t[0]:t})},e.sliceFromReverseWhile=function(t,e,r){for(var n={elements:[],sliceStartsAt:-1},o=e;o>=0&&r(t[o]);o--)n.sliceStartsAt=o,n.elements.unshift(t[o]);return n},e.intersperse=function(t,e){return t.reduce(function(r,n,o){return r.push(n),o<t.length-1&&r.push(e),r},[])}});g(Tt);Tt.preferSecond,Tt.flatten,Tt.find,Tt.groupConsecutiveElementsWhile,Tt.sliceFromReverseWhile,Tt.intersperse;var _t=k(function(t,e){var r=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=r(kt),o=function(){function t(){}return t.sanitize=function(e,r){var n={};if(!e||"object"!=typeof e)return n;var o=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],i=["background","color"],s=e.font,a=e.size,u=e.link,c=e.script,l=e.list,p=e.header,f=e.align,h=e.direction,d=e.indent,y=e.mentions,m=e.mention,b=e.width,v=e.target,g=e.rel,k=e["code-block"],w=o.concat(i,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(o.forEach(function(t){var r=e[t];r&&(n[t]=!!r)}),i.forEach(function(r){var o=e[r];o&&(t.IsValidHexColor(o+"")||t.IsValidColorLiteral(o+"")||t.IsValidRGBColor(o+""))&&(n[r]=o)}),s&&t.IsValidFontName(s+"")&&(n.font=s),a&&t.IsValidSize(a+"")&&(n.size=a),b&&t.IsValidWidth(b+"")&&(n.width=b),u&&(n.link=t.sanitizeLinkUsingOptions(u+"",r)),v&&t.isValidTarget(v)&&(n.target=v),g&&t.IsValidRel(g)&&(n.rel=g),k&&(t.IsValidLang(k)?n["code-block"]=k:n["code-block"]=!!k),c!==yt.ScriptType.Sub&&yt.ScriptType.Super!==c||(n.script=c),l!==yt.ListType.Bullet&&l!==yt.ListType.Ordered&&l!==yt.ListType.Checked&&l!==yt.ListType.Unchecked||(n.list=l),Number(p)&&(n.header=Math.min(Number(p),6)),Tt.find([yt.AlignType.Center,yt.AlignType.Right,yt.AlignType.Justify,yt.AlignType.Left],function(t){return t===f})&&(n.align=f),h===yt.DirectionType.Rtl&&(n.direction=h),d&&Number(d)&&(n.indent=Math.min(Number(d),30)),y&&m){var T=gt.MentionSanitizer.sanitize(m,r);Object.keys(T).length>0&&(n.mentions=!!y,n.mention=m)}return Object.keys(e).reduce(function(t,r){return-1===w.indexOf(r)&&(t[r]=e[r]),t},n)},t.sanitizeLinkUsingOptions=function(t,e){var r=function(){};e&&"function"==typeof e.urlSanitizer&&(r=e.urlSanitizer);var o=r(t);return"string"==typeof o?o:wt.encodeLink(n.sanitize(t))},t.IsValidHexColor=function(t){return!!t.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},t.IsValidColorLiteral=function(t){return!!t.match(/^[a-z]{1,50}$/i)},t.IsValidRGBColor=function(t){return!!t.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},t.IsValidFontName=function(t){return!!t.match(/^[a-z\s0-9\- ]{1,30}$/i)},t.IsValidSize=function(t){return!!t.match(/^[a-z0-9\-]{1,20}$/i)},t.IsValidWidth=function(t){return!!t.match(/^[0-9]*(px|em|%)?$/)},t.isValidTarget=function(t){return!!t.match(/^[_a-zA-Z0-9\-]{1,50}$/)},t.IsValidRel=function(t){return!!t.match(/^[a-zA-Z\s\-]{1,250}$/i)},t.IsValidLang=function(t){return"boolean"==typeof t||!!t.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},t}();e.OpAttributeSanitizer=o});g(_t);_t.OpAttributeSanitizer;var St=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeWithNewLines=function(t){if("\n"===t)return[t];var e=t.split("\n");if(1===e.length)return e;var r=e.length-1;return e.reduce(function(t,e,n){return n!==r?""!==e?t=t.concat(e,"\n"):t.push("\n"):""!==e&&t.push(e),t},[])}});g(St);St.tokenizeWithNewLines;var Ot=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.assign=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=0;o<e.length;o++){var i=e[o];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n}});g(Ot);Ot.assign;var jt=k(function(t,e){var r=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=r(St),o=r(Ot),i=function(){function t(){}return t.denormalize=function(t){if(!t||"object"!=typeof t)return[];if("object"==typeof t.insert||t.insert===yt.NewLine)return[t];var e=n.tokenizeWithNewLines(t.insert+"");if(1===e.length)return[t];var r=o.assign({},t,{insert:yt.NewLine});return e.map(function(e){return e===yt.NewLine?r:o.assign({},t,{insert:e})})},t}();e.InsertOpDenormalizer=i});g(jt);jt.InsertOpDenormalizer;var Lt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.convert=function(e,r){if(!Array.isArray(e))return[];for(var n,o,i=[],s=0,a=[].concat.apply([],e.map(jt.InsertOpDenormalizer.denormalize));s<a.length;s++){var u=a[s];u.insert&&((n=t.convertInsertVal(u.insert,r))&&(o=_t.OpAttributeSanitizer.sanitize(u.attributes,r),i.push(new vt.DeltaInsertOp(n,o))))}return i},t.convertInsertVal=function(t,e){if("string"==typeof t)return new mt.InsertDataQuill(yt.DataType.Text,t);if(!t||"object"!=typeof t)return null;var r=Object.keys(t);return r.length?yt.DataType.Image in t?new mt.InsertDataQuill(yt.DataType.Image,_t.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[yt.DataType.Image]+"",e)):yt.DataType.Video in t?new mt.InsertDataQuill(yt.DataType.Video,_t.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[yt.DataType.Video]+"",e)):yt.DataType.Formula in t?new mt.InsertDataQuill(yt.DataType.Formula,t[yt.DataType.Formula]):new mt.InsertDataCustom(r[0],t[r[0]]):null},t}();e.InsertOpsConverter=r});g(Lt);Lt.InsertOpsConverter;var Ct=k(function(t,e){var r=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=r(Ot),o=r(Tt),i={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};e.DEFAULT_INLINE_STYLES={font:function(t){return i[t]||"font-family:"+t},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(t,e){var r=3*parseInt(t,10);return"padding-"+("rtl"===e.attributes.direction?"right":"left")+":"+r+"em"},direction:function(t,e){return"rtl"===t?"direction:rtl"+(e.attributes.align?"":"; text-align:inherit"):void 0}};var s=function(){function t(t,e){this.op=t,this.options=n.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},e)}return t.prototype.prefixClass=function(t){return this.options.classPrefix?this.options.classPrefix+"-"+t:t+""},t.prototype.getHtml=function(){var t=this.getHtmlParts();return t.openingTag+t.content+t.closingTag},t.prototype.getHtmlParts=function(){var t=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:yt.NewLine};var e=this.getTags(),r=this.getTagAttributes();!e.length&&r.length&&e.push("span");for(var n=[],o=[],i=function(e){return"img"===e&&!!t.op.attributes.link},s=0,a=e;s<a.length;s++){var u=a[s];i(u)&&n.push(wt.makeStartTag("a",this.getLinkAttrs())),n.push(wt.makeStartTag(u,r)),o.push("img"===u?"":wt.makeEndTag(u)),i(u)&&o.push(wt.makeEndTag("a")),r=[]}return o.reverse(),{openingTag:n.join(""),content:this.getContent(),closingTag:o.join("")}},t.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var t=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&wt.encodeHtml(t)||t},t.prototype.getCssClasses=function(){var t=this.op.attributes;if(this.options.inlineStyles)return[];var e=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&e.push("background"),(this.getCustomCssClasses()||[]).concat(e.filter(function(e){return!!t[e]}).filter(function(e){return"background"!==e||_t.OpAttributeSanitizer.IsValidColorLiteral(t[e])}).map(function(e){return e+"-"+t[e]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},t.prototype.getCssStyles=function(){var t=this,r=this.op.attributes,n=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||n.push(["background","background-color"]),this.options.inlineStyles&&(n=n.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(n.filter(function(t){return!!r[t[0]]}).map(function(n){var i=n[0],s=r[i],a=t.options.inlineStyles&&t.options.inlineStyles[i]||e.DEFAULT_INLINE_STYLES[i];return"object"==typeof a?a[s]:"function"==typeof a?a(s,t.op):o.preferSecond(n)+":"+s})).filter(function(t){return void 0!==t})},t.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var t=this.makeAttr.bind(this),e=this.getCustomTagAttributes(),r=e?Object.keys(this.getCustomTagAttributes()).map(function(r){return t(r,e[r])}):[],n=this.getCssClasses(),o=n.length?r.concat([t("class",n.join(" "))]):r;if(this.op.isImage())return this.op.attributes.width&&(o=o.concat(t("width",this.op.attributes.width))),o.concat(t("src",this.op.insert.value));if(this.op.isACheckList())return o.concat(t("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return o;if(this.op.isVideo())return o.concat(t("frameborder","0"),t("allowfullscreen","true"),t("src",this.op.insert.value));if(this.op.isMentions()){var i=this.op.attributes.mention;return i.class&&(o=o.concat(t("class",i.class))),o=i["end-point"]&&i.slug?o.concat(t("href",i["end-point"]+"/"+i.slug)):o.concat(t("href","about:blank")),i.target&&(o=o.concat(t("target",i.target))),o}var s=this.getCssStyles();return s.length&&o.push(t("style",s.join(";"))),this.op.isCodeBlock()&&"string"==typeof this.op.attributes["code-block"]?o.concat(t("data-language",this.op.attributes["code-block"])):this.op.isContainerBlock()?o:(this.op.isLink()&&(o=o.concat(this.getLinkAttrs())),o)},t.prototype.makeAttr=function(t,e){return{key:t,value:e}},t.prototype.getLinkAttrs=function(){var t=_t.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,e=_t.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,r=this.op.attributes.target||t,n=this.op.attributes.rel||e;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(r?this.makeAttr("target",r):[]).concat(n?this.makeAttr("rel",n):[])},t.prototype.getCustomTag=function(t){if(this.options.customTag&&"function"==typeof this.options.customTag)return this.options.customTag.apply(null,[t,this.op])},t.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&"function"==typeof this.options.customTagAttributes)return this.options.customTagAttributes.apply(null,[this.op])},t.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&"function"==typeof this.options.customCssClasses){var t=this.options.customCssClasses.apply(null,[this.op]);if(t)return Array.isArray(t)?t:[t]}},t.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&"function"==typeof this.options.customCssStyles){var t=this.options.customCssStyles.apply(null,[this.op]);if(t)return Array.isArray(t)?t:[t]}},t.prototype.getTags=function(){var t=this,e=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var r=this.options.paragraphTag||"p",n=0,i=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",r],["direction",r],["indent",r]];n<i.length;n++){var s,a=i[n],u=a[0];if(e[u])return(s=this.getCustomTag(u))?[s]:"header"===u?["h"+e[u]]:[o.preferSecond(a)]}if(this.op.isCustomTextBlock())return(s=this.getCustomTag("renderAsBlock"))?[s]:[r];var c=Object.keys(e).reduce(function(e,r){var n=t.getCustomTag(r);return n&&(e[r]=n),e},{}),l=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return l.filter(function(t){return!!e[t[0]]}).concat(Object.keys(c).filter(function(t){return!l.some(function(e){return e[0]==t})}).map(function(t){return[t,c[t]]})).map(function(t){return c[t[0]]?c[t[0]]:"script"===t[0]?e[t[0]]===yt.ScriptType.Sub?"sub":"sup":o.preferSecond(t)})},t}();e.OpToHtmlConverter=s});g(Ct);Ct.DEFAULT_INLINE_STYLES,Ct.OpToHtmlConverter;var Bt=k(function(t,e){var r,n=v&&v.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(){return function(t){this.ops=t}}();e.InlineGroup=o;var i=function(){return function(t){this.op=t}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);e.VideoItem=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);e.BlotBlock=a;var u=function(){return function(t,e){this.op=t,this.ops=e}}();e.BlockGroup=u;var c=function(){return function(t){this.items=t}}();e.ListGroup=c;var l=function(){return function(t,e){void 0===e&&(e=null),this.item=t,this.innerList=e}}();e.ListItem=l;var p=function(){return function(t){this.rows=t}}();e.TableGroup=p;var f=function(){return function(t){this.cells=t}}();e.TableRow=f;var h=function(){return function(t){this.item=t}}();e.TableCell=h});g(Bt);Bt.InlineGroup,Bt.VideoItem,Bt.BlotBlock,Bt.BlockGroup,Bt.ListGroup,Bt.ListItem,Bt.TableGroup,Bt.TableRow,Bt.TableCell;var It=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.pairOpsWithTheirBlock=function(t){for(var e,r=[],n=function(t){return!(t.isJustNewline()||t.isCustomEmbedBlock()||t.isVideo()||t.isContainerBlock())},o=function(t){return t.isInline()},i=t.length-1;i>=0;i--){var s=t[i];s.isVideo()?r.push(new Bt.VideoItem(s)):s.isCustomEmbedBlock()?r.push(new Bt.BlotBlock(s)):s.isContainerBlock()?(e=Tt.sliceFromReverseWhile(t,i-1,n),r.push(new Bt.BlockGroup(s,e.elements)),i=e.sliceStartsAt>-1?e.sliceStartsAt:i):(e=Tt.sliceFromReverseWhile(t,i-1,o),r.push(new Bt.InlineGroup(e.elements.concat(s))),i=e.sliceStartsAt>-1?e.sliceStartsAt:i)}return r.reverse(),r},t.groupConsecutiveSameStyleBlocks=function(e,r){return void 0===r&&(r={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),Tt.groupConsecutiveElementsWhile(e,function(e,n){return e instanceof Bt.BlockGroup&&n instanceof Bt.BlockGroup&&(r.codeBlocks&&t.areBothCodeblocksWithSameLang(e,n)||r.blockquotes&&t.areBothBlockquotesWithSameAdi(e,n)||r.header&&t.areBothSameHeadersWithSameAdi(e,n)||r.customBlocks&&t.areBothCustomBlockWithSameAttr(e,n))})},t.reduceConsecutiveSameStyleBlocksToOne=function(t){var e=vt.DeltaInsertOp.createNewLineOp();return t.map(function(t){if(!Array.isArray(t))return t instanceof Bt.BlockGroup&&!t.ops.length&&t.ops.push(e),t;var r=t.length-1;return t[0].ops=Tt.flatten(t.map(function(t,n){return t.ops.length?t.ops.concat(n<r?[e]:[]):[e]})),t[0]})},t.areBothCodeblocksWithSameLang=function(t,e){return t.op.isCodeBlock()&&e.op.isCodeBlock()&&t.op.hasSameLangAs(e.op)},t.areBothSameHeadersWithSameAdi=function(t,e){return t.op.isSameHeaderAs(e.op)&&t.op.hasSameAdiAs(e.op)},t.areBothBlockquotesWithSameAdi=function(t,e){return t.op.isBlockquote()&&e.op.isBlockquote()&&t.op.hasSameAdiAs(e.op)},t.areBothCustomBlockWithSameAttr=function(t,e){return t.op.isCustomTextBlock()&&e.op.isCustomTextBlock()&&t.op.hasSameAttr(e.op)},t}();e.Grouper=r});g(It);It.Grouper;var At=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.nest=function(t){var e=this,r=this.convertListBlocksToListGroups(t),n=this.groupConsecutiveListGroups(r),o=Tt.flatten(n.map(function(t){return Array.isArray(t)?e.nestListSection(t):t}));return Tt.groupConsecutiveElementsWhile(o,function(t,e){return t instanceof Bt.ListGroup&&e instanceof Bt.ListGroup&&t.items[0].item.op.isSameListAs(e.items[0].item.op)}).map(function(t){if(!Array.isArray(t))return t;var e=t.map(function(t){return t.items});return new Bt.ListGroup(Tt.flatten(e))})},t.prototype.convertListBlocksToListGroups=function(t){return Tt.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof Bt.BlockGroup&&e instanceof Bt.BlockGroup&&t.op.isList()&&e.op.isList()&&t.op.isSameListAs(e.op)&&t.op.hasSameIndentationAs(e.op)}).map(function(t){return Array.isArray(t)?new Bt.ListGroup(t.map(function(t){return new Bt.ListItem(t)})):t instanceof Bt.BlockGroup&&t.op.isList()?new Bt.ListGroup([new Bt.ListItem(t)]):t})},t.prototype.groupConsecutiveListGroups=function(t){return Tt.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof Bt.ListGroup&&e instanceof Bt.ListGroup})},t.prototype.nestListSection=function(t){var e=this,r=this.groupByIndent(t);return Object.keys(r).map(Number).sort().reverse().forEach(function(n){r[n].forEach(function(r){var n=t.indexOf(r);e.placeUnderParent(r,t.slice(0,n))&&t.splice(n,1)})}),t},t.prototype.groupByIndent=function(t){return t.reduce(function(t,e){var r=e.items[0].item.op.attributes.indent;return r&&(t[r]=t[r]||[],t[r].push(e)),t},{})},t.prototype.placeUnderParent=function(t,e){for(var r=e.length-1;r>=0;r--){var n=e[r];if(t.items[0].item.op.hasHigherIndentThan(n.items[0].item.op)){var o=n.items[n.items.length-1];return o.innerList?o.innerList.items=o.innerList.items.concat(t.items):o.innerList=t,!0}}return!1},t}();e.ListNester=r});g(At);At.ListNester;var xt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.group=function(t){return this.convertTableBlocksToTableGroups(t)},t.prototype.convertTableBlocksToTableGroups=function(t){var e=this;return Tt.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof Bt.BlockGroup&&e instanceof Bt.BlockGroup&&t.op.isTable()&&e.op.isTable()}).map(function(t){return Array.isArray(t)?new Bt.TableGroup(e.convertTableBlocksToTableRows(t)):t instanceof Bt.BlockGroup&&t.op.isTable()?new Bt.TableGroup([new Bt.TableRow([new Bt.TableCell(t)])]):t})},t.prototype.convertTableBlocksToTableRows=function(t){return Tt.groupConsecutiveElementsWhile(t,function(t,e){return t instanceof Bt.BlockGroup&&e instanceof Bt.BlockGroup&&t.op.isTable()&&e.op.isTable()&&t.op.isSameTableRowAs(e.op)}).map(function(t){return new Bt.TableRow(Array.isArray(t)?t.map(function(t){return new Bt.TableCell(t)}):[new Bt.TableCell(t)])})},t}();e.TableGrouper=r});g(xt);xt.TableGrouper;var Et=k(function(t,e){var r=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=r(Ot),o=function(){function t(t,e){var r;this.rawDeltaOps=[],this.callbacks={},this.options=n.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},e,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),r=this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:r,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=t}return t.prototype._getListTag=function(t){return t.isOrderedList()?this.options.orderedListTag+"":t.isBulletList()?this.options.bulletListTag+"":t.isCheckedList()?this.options.bulletListTag+"":t.isUncheckedList()?this.options.bulletListTag+"":""},t.prototype.getGroupedOps=function(){var t=Lt.InsertOpsConverter.convert(this.rawDeltaOps,this.options),e=It.Grouper.pairOpsWithTheirBlock(t),r=It.Grouper.groupConsecutiveSameStyleBlocks(e,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),n=It.Grouper.reduceConsecutiveSameStyleBlocksToOne(r);return n=(new xt.TableGrouper).group(n),(new At.ListNester).nest(n)},t.prototype.convert=function(){var t=this;return this.getGroupedOps().map(function(e){if(e instanceof Bt.ListGroup)return t._renderWithCallbacks(yt.GroupType.List,e,function(){return t._renderList(e)});if(e instanceof Bt.TableGroup)return t._renderWithCallbacks(yt.GroupType.Table,e,function(){return t._renderTable(e)});if(e instanceof Bt.BlockGroup){var r=e;return t._renderWithCallbacks(yt.GroupType.Block,e,function(){return t._renderBlock(r.op,r.ops)})}return e instanceof Bt.BlotBlock?t._renderCustom(e.op,null):e instanceof Bt.VideoItem?t._renderWithCallbacks(yt.GroupType.Video,e,function(){var r=e;return new Ct.OpToHtmlConverter(r.op,t.converterOptions).getHtml()}):t._renderWithCallbacks(yt.GroupType.InlineGroup,e,function(){return t._renderInlines(e.ops,!0)})}).join("")},t.prototype._renderWithCallbacks=function(t,e,r){var n="",o=this.callbacks.beforeRender_cb;(n="function"==typeof o?o.apply(null,[t,e]):"")||(n=r());var i=this.callbacks.afterRender_cb;return n="function"==typeof i?i.apply(null,[t,n]):n},t.prototype._renderList=function(t){var e=this,r=t.items[0];return wt.makeStartTag(this._getListTag(r.item.op))+t.items.map(function(t){return e._renderListItem(t)}).join("")+wt.makeEndTag(this._getListTag(r.item.op))},t.prototype._renderListItem=function(t){t.item.op.attributes.indent=0;var e=new Ct.OpToHtmlConverter(t.item.op,this.converterOptions).getHtmlParts(),r=this._renderInlines(t.item.ops,!1);return e.openingTag+r+(t.innerList?this._renderList(t.innerList):"")+e.closingTag},t.prototype._renderTable=function(t){var e=this;return wt.makeStartTag("table")+wt.makeStartTag("tbody")+t.rows.map(function(t){return e._renderTableRow(t)}).join("")+wt.makeEndTag("tbody")+wt.makeEndTag("table")},t.prototype._renderTableRow=function(t){var e=this;return wt.makeStartTag("tr")+t.cells.map(function(t){return e._renderTableCell(t)}).join("")+wt.makeEndTag("tr")},t.prototype._renderTableCell=function(t){var e=new Ct.OpToHtmlConverter(t.item.op,this.converterOptions).getHtmlParts(),r=this._renderInlines(t.item.ops,!1);return wt.makeStartTag("td",{key:"data-row",value:t.item.op.attributes.table})+e.openingTag+r+e.closingTag+wt.makeEndTag("td")},t.prototype._renderBlock=function(t,e){var r=this,n=new Ct.OpToHtmlConverter(t,this.converterOptions).getHtmlParts();if(t.isCodeBlock())return n.openingTag+wt.encodeHtml(e.map(function(e){return e.isCustomEmbed()?r._renderCustom(e,t):e.insert.value}).join(""))+n.closingTag;var o=e.map(function(e){return r._renderInline(e,t)}).join("");return n.openingTag+(o||"<br/>")+n.closingTag},t.prototype._renderInlines=function(t,e){var r=this;void 0===e&&(e=!0);var n=t.length-1,o=t.map(function(t,e){return e>0&&e===n&&t.isJustNewline()?"":r._renderInline(t,null)}).join("");if(!e)return o;var i=wt.makeStartTag(this.options.paragraphTag),s=wt.makeEndTag(this.options.paragraphTag);return"<br/>"===o||this.options.multiLineParagraph?i+o+s:i+o.split("<br/>").map(function(t){return""===t?"<br/>":t}).join(s+i)+s},t.prototype._renderInline=function(t,e){return t.isCustomEmbed()?this._renderCustom(t,e):new Ct.OpToHtmlConverter(t,this.converterOptions).getHtml().replace(/\n/g,"<br/>")},t.prototype._renderCustom=function(t,e){var r=this.callbacks.renderCustomOp_cb;return"function"==typeof r?r.apply(null,[t,e]):""},t.prototype.beforeRender=function(t){"function"==typeof t&&(this.callbacks.beforeRender_cb=t)},t.prototype.afterRender=function(t){"function"==typeof t&&(this.callbacks.afterRender_cb=t)},t.prototype.renderCustomWith=function(t){this.callbacks.renderCustomOp_cb=t},t}();e.QuillDeltaToHtmlConverter=o});g(Et);Et.QuillDeltaToHtmlConverter;var Pt=k(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuillDeltaToHtmlConverter=Et.QuillDeltaToHtmlConverter,e.OpToHtmlConverter=Ct.OpToHtmlConverter,e.InlineGroup=Bt.InlineGroup,e.VideoItem=Bt.VideoItem,e.BlockGroup=Bt.BlockGroup,e.ListGroup=Bt.ListGroup,e.ListItem=Bt.ListItem,e.BlotBlock=Bt.BlotBlock,e.DeltaInsertOp=vt.DeltaInsertOp,e.InsertDataQuill=mt.InsertDataQuill,e.InsertDataCustom=mt.InsertDataCustom,e.NewLine=yt.NewLine,e.ListType=yt.ListType,e.ScriptType=yt.ScriptType,e.DirectionType=yt.DirectionType,e.AlignType=yt.AlignType,e.DataType=yt.DataType,e.GroupType=yt.GroupType});g(Pt);var zt=Pt.QuillDeltaToHtmlConverter,Dt=(Pt.OpToHtmlConverter,Pt.InlineGroup,Pt.VideoItem,Pt.BlockGroup,Pt.ListGroup,Pt.ListItem,Pt.BlotBlock,Pt.DeltaInsertOp,Pt.InsertDataQuill,Pt.InsertDataCustom,Pt.NewLine,Pt.ListType,Pt.ScriptType,Pt.DirectionType,Pt.AlignType,Pt.DataType,Pt.GroupType,function(){function t(){r(this,t)}return o(t,null,[{key:"convertDeltaToHtml",value:function(t,e){if(!t.ops)throw new Error("Incorrect delta format. Cannot find ops array.");var r=new zt(t.ops,{multiLineParagraph:!1,multiLineCodeblock:!1,multiLineHeader:!1,multiLineBlockquote:!1,urlSanitizer:function(t){return 0==t.indexOf("www.")?"https://".concat(t):t}});return e?r.renderCustomWith(e):r.renderCustomWith(this.renderCustom),r.convert()}},{key:"renderCustom",value:function(t,e){switch(t.insert.type){case"embed":var r=t.insert.value,n='<div class="embed">';return"youtube"==r.type?n+='<div class="embed__youtube"><iframe width="560" height="315" src="'.concat(r.url,'" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'):"tweet"==r.type&&(n+='<div class="embed__tweet" data-id="'.concat(r.id,'" />')),n+="</div>";case"divider":return"<hr />";case"code":return'<pre class="code"><code>'.concat(t.insert.value,"</code></pre>");case"media":var o=t.insert.value,i=["media"];o.size&&i.push("media--".concat(o.size));var s=o.content;if(s&&s.data){var a=s.data,u=a.type?s.data.type:null,c="<div".concat(i.length>0?' class="'.concat(i.join(" "),'"'):"",">");if("image"==u)i.push("media--image"),c+='\n                        <figure>\n                            <img src="'.concat(a.url,'">\n                            ').concat(o.caption?"<figcaption>".concat(o.caption,"</figcaption>"):"","\n                        </figure>");else if("video"==u){i.push("media--video");var l="";if(a.versions)for(var p=0,f=Object.values(a.versions);p<f.length;p++){var h=f[p];"video"==h.type&&(l+='<source src="'.concat(h.url,'" type="').concat(h.contentType,'">'))}c+='\n                        <figure>\n                            <video width="100%" crossorigin playsinline>\n                                '.concat(l,"\n                            </video>\n                            ").concat(o.caption?"<figcaption>".concat(o.caption,"</figcaption>"):"","\n                        </figure>")}else"audio"==u&&(i.push("media--audio"),c+='\n                        <figure>\n                            <audio src="'.concat(a.url,'" crossorigin></audio>\n                            ').concat(o.caption?"<figcaption>".concat(o.caption,"</figcaption>"):"","\n                        </figure>"));return c+="</div>"}return""}}}]),t}()),Rt=6e3,$t=function(){function t(){var e=this;r(this,t),this.debug=!1,this.options={timeout:Rt,headers:{"Unalike-Agent":"unalike.js-".concat(b),"Content-Type":"application/json; charset=utf-8"}},this.content=function(t){var r=new ct(e);return t&&r.id(t),r},this.repository=function(t){var r=new lt(e);return t&&r.id(t),r},this.model=function(t){var r=new pt(e);return t&&r.id(t),r},this.interceptors={request:new dt,fulfilled:new dt,rejected:new dt}}return o(t,[{key:"setTimeout",value:function(t){this.options.timeout=t}},{key:"setOption",value:function(t,e){this.options[t]=e}},{key:"setApi",value:function(t){this.url=t}},{key:"setDebug",value:function(t){this.debug=t}},{key:"getUrl",value:function(){return this.url}},{key:"getVersion",value:function(){return"unalike.js-".concat(b)}},{key:"setToken",value:function(t){if(null!=t){if(this.token=t,t.indexOf("__")>-1&&t.indexOf("__")<40){var e=t.split("__")[0];this.url=e.indexOf("localhost")>-1?"http://".concat(e):"https://".concat(e)}this.options.headers["x-auth"]=t}}},{key:"setHeader",value:function(t,e){this.options.headers[t]=e}},{key:"buildUrl",value:function(t,e){var r="";for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];r+=encodeURIComponent(n)+"="+encodeURIComponent(o)+"&"}return r.length>0&&(t=t+"?"+(r=r.substring(0,r.length-1))),t}},{key:"requiresToken",value:function(){if(void 0===this.token||null===this.token)throw new Error("Where's the key?")}},{key:"ping",value:function(){var t=e(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request("".concat(this.url,"/ping"),Object.assign(this.options,{method:"GET"}));case 2:return e=t.sent,this.debug&&(console.log("unalike-js","url","/ping"),console.log("unalike-js","method","GET"),console.log("unalike-js","res",e)),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=e(regeneratorRuntime.mark(function t(e,r){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.buildUrl("".concat(this.url).concat(e),r),t.next=3,this.request(n,Object.assign({},this.options,{method:"GET",body:void 0}));case 3:return o=t.sent,this.debug&&(console.log("unalike-js","url",n),console.log("unalike-js","method","GET"),console.log("unalike-js","response",o)),t.abrupt("return",o);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=e(regeneratorRuntime.mark(function t(e,r,n,o){var i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.buildUrl("".concat(this.url).concat(e),r),t.next=3,this.request(i,Object.assign({},this.options,{method:"POST",body:n?JSON.stringify(n):null},o));case 3:return s=t.sent,this.debug&&(console.log("unalike-js","url",i),console.log("unalike-js","method","POST"),console.log("unalike-js","response",s)),t.abrupt("return",s);case 6:case"end":return t.stop()}},t,this)}));return function(e,r,n,o){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=e(regeneratorRuntime.mark(function t(e,r,n){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.requiresToken(),o=this.buildUrl("".concat(this.url).concat(e),r),t.next=4,this.request(o,Object.assign({},this.options,{method:"PUT",body:n?JSON.stringify(n):null}));case 4:return i=t.sent,this.debug&&(console.log("unalike-js","url",o),console.log("unalike-js","method","PUT"),console.log("unalike-js","response",i)),t.abrupt("return",i);case 7:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=e(regeneratorRuntime.mark(function t(e,r){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.requiresToken(),n=this.buildUrl("".concat(this.url).concat(e),r),t.next=4,this.request(n,Object.assign({},this.options,{method:"DELETE"}));case 4:return o=t.sent,this.debug&&(console.log("unalike-js","url",n),console.log("unalike-js","method","DELETE"),console.log("unalike-js","response",o)),t.abrupt("return",o);case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"query",value:function(){var t=e(regeneratorRuntime.mark(function t(e,r){var n,o,i,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"/query",o=this.buildUrl("".concat(this.url).concat(n)),t.next=4,this.request(o,Object.assign({},this.options,{method:"POST",body:JSON.stringify({query:e,variables:r})}));case 4:if(!((i=t.sent)&&i.data.errors&&i.data.errors.length>0)){t.next=7;break}throw new ht(i);case 7:return i.data=i.data.data,this.debug&&(console.log("unalike-js","url",o),console.log("unalike-js","method","POST"),console.log("unalike-js","response",i)),t.abrupt("return",i);case 10:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"request",value:function(){var t=e(regeneratorRuntime.mark(function t(r,n){var o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=e(regeneratorRuntime.mark(function t(e,i){var s,a,u,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=setTimeout(function(){i(new Error("Request timed out"))},n.timeout),t.prev=1,o.interceptors.request.forEach(n),t.next=5,at(r,n);case 5:return a=t.sent,t.next=8,a.json();case 8:if(u=t.sent,clearTimeout(s),c={},d(a.headers.entries()).forEach(function(t){var e=h(t,2),r=e[0],n=e[1];c[r]=n}),!((l={headers:c,status:a.status,data:u}).status>=400)){t.next=18;break}throw new ft(l);case 18:o.interceptors.fulfilled.forEach(l);case 19:e(l),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(1),o.interceptors.rejected.forEach(t.t0),i(t.t0);case 26:case"end":return t.stop()}},t,null,[[1,22]])}));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()}]),t}();return $t.Transformer=Dt,$t});
